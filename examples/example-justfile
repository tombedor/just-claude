# Example justfile for just-claude testing
# This demonstrates various recipe types and features

# Build the project
build:
    cargo build --release

# Run all tests
test:
    cargo test --all

# Run tests with coverage
test-coverage:
    cargo tarpaulin --out Html

# Deploy to production
deploy target:
    echo "Deploying to {{target}}"
    ./deploy.sh {{target}}

# Start development server
serve port="8080":
    echo "Starting server on port {{port}}"
    cargo run -- --port {{port}}

# Clean build artifacts
clean:
    cargo clean
    rm -rf target/

# Format code
fmt:
    cargo fmt --all

# Run linter
lint:
    cargo clippy --all-targets --all-features

# Private helper recipe (will not generate a skill)
_setup:
    echo "Setting up dependencies..."
    cargo fetch

# Recipe with dependencies
ci: test lint
    echo "CI checks passed!"
